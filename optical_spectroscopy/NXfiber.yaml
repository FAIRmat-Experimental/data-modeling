# A draft of a new base class to describe an optical fiber (e.g. glass fiber)

category: base
symbols:
  N_spectrum_core: |
    Length of the spectrum vector (e.g. wavelength or energy) for which the
    refractive index of the core material is given.
  N_spectrum_clad: |
    Length of the spectrum vector (e.g. wavelength or energy) for which the
    refractive index of the cladding material is given.
  N_spectrum_attenuation: |
    Length of the spectrum vector (e.g. wavelength or energy) for which the
    attenuation curve is given.

doc: |
  An optical fiber, e.g. glass fiber.

  Specify the quantities that define the fiber. Fiber optics are described in
  detail [here](https://www.photonics.com/Article.aspx?AID=25151&PID=4), for
  example.

(NXfiber):
  
  description:
    exists: recommended
    doc: |
      Descriptive name or brief description of the fiber, e.g. by stating its
      dimension. The dimension of a fiber can be given as 60/100/200 which
      refers to a core diameter of 60 micron, a clad diameter of 100 micron,
      and a coating diameter of 200 micron.

  type:
    exists: required
    doc: |
      Type/mode of the fiber. Modes of fiber transmission are shown in
      Fig. 5 [here](https://www.photonics.com/Article.aspx?AID=25151&PID=4).
    enumeration: 
      [
        "single mode",
        "multimode graded index",
        "multimode step index"
      ]
  
  dispersion_type:
    doc: Type of dispersion.
    enumeration: 
      [
        "modal",
        "material",
        "chromatic"
      ]
  dispersion(NX_FLOAT):
    doc: |
      Spectrum-dependent (or refractive index-dependent) dispersion of the
      fiber. Specify in ps/nm*km.
    unit: NX_TIME
    dimensions:
      rank: 1
      dim: 
        [
          [1, N_spectrum_core]
        ]

  core(NXsample):
    doc: |
      Core of the fiber, i.e. the part of the fiber which transmits the light.
    core_material:
      doc: Specify the material of the core of the fiber.
    core_diameter(NX_FLOAT):
      doc: Core diameter of the fiber (e.g. given in micrometer).
      unit: NX_LENGTH
    core_index_of_refraction(NX_FLOAT):
      doc: |
        Complex index of refraction of the fiber. Specify at given wavelength
        (or energy, wavenumber etc.) values.
      unit: NX_UNITLESS
      dimensions:
        rank: 2
        dim: 
          [
            [1, 2],
            [2, N_spectrum_core]
          ]
  
  cladding(NXsample):
    doc: |
      Core of the fiber, i.e. the part of the fiber which transmits the light.
    clad_material:
      doc: Specify the material of the core of the fiber.
    clad_diameter(NX_FLOAT):
      doc: Clad diameter of the fiber (e.g. given in micrometer).
      unit: NX_LENGTH
    clad_index_of_refraction(NX_FLOAT):
      doc: |
        Complex index of refraction of the fiber. Specify at given wavelength
        (or energy, wavenumber etc.) values.
      unit: NX_UNITLESS
      dimensions:
        rank: 2
        dim:
          [
            [1, 2],
            [2, N_spectrum_clad]
          ]
  
  coating(NXsample):
    doc: Coating of the fiber.
    coating_material:
      doc: Specify the material of the coating of the fiber.
    coating_diameter(NX_FLOAT):
      doc: Outer diameter of the fiber (e.g. given in micrometer).
      unit: NX_LENGTH

  length(NX_FLOAT):
    doc: Length of the fiber.
    unit: NX_LENGTH
  
  spectral_range(NX_FLOAT):
    exists: recommended
    doc: |
      Spectral range for which the fiber is designed. Enter the minimum and
      maximum values (lower and upper limit) of the wavelength range.
    unit: NX_ANY
    dimensions:
      rank: 1
      dim: [[1,2]]
    \@units:
      doc: |
        Unit of spectral array (e.g. nanometer or angstrom for wavelength, or
        electronvolt for energy etc.).

  transfer_rate(NX_FLOAT):
    doc: Transfer rate of the fiber (in GB per second).
    unit: NX_ANY
    \@units: 
      doc: GB/s

  numerical_aperture(NX_FLOAT):
    doc: Numerical aperture (NA) of the fiber.
    unit: NX_UNITLESS 
  
  attenuation(NX_FLOAT):
    doc: Wavelength-dependent attenuation of the fiber (specify in dB/km).
    unit: NX_ANY
    \@units: 
      doc: dB/km
    dimensions:
      rank: 1
      dim: 
        [
          [1, N_spectrum_attenuation]
        ]

  power_loss(NX_FLOAT):
    doc: Power loss of the fiber in percentage.
    unit: NX_UNITLESS

  acceptance_angle(NX_FLOAT):
    doc: Acceptance angle of the fiber.
    unit: NX_ANGLE
