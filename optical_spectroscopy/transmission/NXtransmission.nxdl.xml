<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition category="application" extends="NXobject" name="NXtransmission" type="group" xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <symbols>
        <doc>
             Variables used throughout the experiment
        </doc>
        <symbol name="N_wavelengths">
            <doc>
                 Number of wavelength points
            </doc>
        </symbol>
        <symbol name="N_parameters">
            <doc>
                 Number of sample parameters scanned
            </doc>
        </symbol>
        <symbol name="N_time">
            <doc>
                 Number of time points scanned
            </doc>
        </symbol>
    </symbols>
    <doc>
         Application definition for transmission experiments
    </doc>
    <group type="NXentry">
        <doc>
             This application definition
        </doc>
        <field name="definition" type="NX_CHAR">
            <doc>
                 An application definition for transmission.
            </doc>
            <attribute name="version" type="NX_CHAR">
                <doc>
                     Version number to identify which definition of this application definition was
                     used for this entry/data.
                </doc>
            </attribute>
            <attribute name="url" type="NX_CHAR">
                <doc>
                     URL where to find further material (documentation, examples) relevant to the
                     application definition.
                </doc>
            </attribute>
            <enumeration>
                <item value="NXtransmission"/>
            </enumeration>
        </field>
        <field name="start_time" type="NX_DATE_TIME">
            <doc>
                 Start time of the experiment.
            </doc>
        </field>
        <group name="instrument" type="NXinstrument">
            <group name="common_beam_mask" type="NXslit">
                <doc>
                     Common beam mask to shape the incident beam
                </doc>
                <field name="x_gap" type="NX_NUMBER"/>
            </group>
            <field name="common_beam_depolarizer" type="NX_BOOLEAN">
                <doc>
                     If true, the incident beam is depolarized.
                </doc>
            </field>
            <field name="polarizer" type="NX_NUMBER" units="NX_ANGLE">
                <doc>
                     Polarizer value inside the beam path
                </doc>
            </field>
            <group name="ref_attenuator" type="NXattenuator">
                <doc>
                     Attenuator in the reference beam
                </doc>
                <field name="attenuator_transmission" type="NX_FLOAT"/>
            </group>
            <group name="sample_attenuator" type="NXattenuator">
                <doc>
                     Attenuator in the sample beam
                </doc>
                <field name="attenuator_transmission" type="NX_FLOAT"/>
            </group>
            <group minOccurs="1" name="operator" type="NXuser">
                <doc>
                     Contact information of at least the user of the instrument or the investigator
                     who performed this experiment. Adding multiple users if relevant is recommended.
                </doc>
                <field name="name" type="NX_CHAR">
                    <doc>
                         Name of the user.
                    </doc>
                </field>
                <field name="affiliation" type="NX_CHAR">
                    <doc>
                         Name of the affiliation of the user at the point in time when the experiment was
                         performed.
                    </doc>
                </field>
                <field name="address" type="NX_CHAR">
                    <doc>
                         Street address of the user's affiliation.
                    </doc>
                </field>
                <field name="email" type="NX_CHAR">
                    <doc>
                         Email address of the user.
                    </doc>
                </field>
                <field name="orcid" recommended="true" type="NX_CHAR">
                    <doc>
                         Author ID defined by https://orcid.org/.
                    </doc>
                </field>
                <field name="telephone_number" recommended="true" type="NX_CHAR">
                    <doc>
                         Telephone number of the user.
                    </doc>
                </field>
            </group>
            <group type="NXmonochromator">
                <field name="wavelength_range" type="NX_NUMBER" units="NX_LENGTH">
                    <doc>
                         Wavelength range in which this monochromator was used
                    </doc>
                    <dimensions rank="1">
                        <dim index="1" value="2"/>
                    </dimensions>
                </field>
            </group>
            <group type="NXdetector">
                <field name="wavelength_range" type="NX_NUMBER" units="NX_LENGTH">
                    <doc>
                         Wavelength range in which this detector was used
                    </doc>
                    <dimensions rank="1">
                        <dim index="1" value="2"/>
                    </dimensions>
                </field>
                <field name="response_time" optional="true" type="NX_NUMBER" units="NX_TIME">
                    <doc>
                         Response time of the detector
                    </doc>
                </field>
                <group name="gain" optional="true" type="NX_NUMER">
                    <doc>
                         Detector gain
                    </doc>
                </group>
            </group>
            <group type="NXsource">
                <doc>
                     The lamp used for illumination
                </doc>
                <field name="type" type="NX_CHAR">
                    <doc>
                         The type of lamp, e.g. halogen, D2 etc.
                    </doc>
                </field>
                <field name="spectrum" optional="true" type="NX_NUMBER">
                    <doc>
                         The spectrum of the lamp used
                    </doc>
                    <dimensions rank="1">
                        <dim index="1" value="N_wavelengths"/>
                    </dimensions>
                </field>
                <field name="wavelength_range" type="NX_NUMBER" units="NX_LENGTH">
                    <doc>
                         Wavelength range in which the lamp was used
                    </doc>
                    <dimensions rank="1">
                        <dim index="1" value="2"/>
                    </dimensions>
                </field>
                <group name="slit" type="NXslit">
                    <doc>
                         Slit setting used for measurement with this detector
                    </doc>
                    <field name="type" type="NX_CHAR">
                        <enumeration>
                            <item value="fixed"/>
                            <item value="servo"/>
                        </enumeration>
                    </field>
                </group>
            </group>
        </group>
        <group type="NXsample">
            <doc>
                 Properties of the sample measured
            </doc>
            <field name="name" type="NX_CHAR"/>
        </group>
        <group name="data" type="NXdata"/>
    </group>
</definition>
