<?xml version="1.0" ?>
<definition xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/nxdl.xsd" xmlns="http://definition.nexusformat.org/nxdl/3.1" category="application" extends="NXentry" type="group" doc="This is the most general application definition for multidimensional photoelectron spectroscopy.">
	<symbols doc="The symbols used in the schema to specify e.g. dimensions of arrays">
		<sym name="nfa" doc="Number of fast axes (acquired simutaneously) e.g. emission angle, kinetic energy"/>
		<sym name="nsa" doc="Number of slow axes (acquired scanning a physical quantity) e.g. lens voltage, photon energy or temperature"/>
		<sym name="nx" doc="Number of points in the first angular direction"/>
		<sym name="ne" doc="Number of points in the energy dispersion direction"/>
	</symbols>
	<field name="name" type="NX_CHAR"/>
	<group name="NXentry" type="NXentry">
		<attribute name="entry" doc="NeXus convention is to use &quot;entry1&quot;, &quot;entry2&quot;, for analysis software to locate each entry."/>
		<field name="title" type="NX_CHAR"/>
		<field name="start_time" type="NX_DATE_TIME"/>
		<field name="definition" type="NX_CHAR" doc="Official NeXus NXDL schema to which this file conforms.">
			<attribute name="version" type="NX_CHAR"/>
			<enumeration>
				<item value="NXmpes_core"/>
			</enumeration>
		</field>
		<group name="NXinstrument" type="NXinstrument">
			<group name="NXsource" type="NXsource">
				<field name="type" type="NX_CHAR"/>
				<field name="name" type="NX_CHAR"/>
				<field name="probe" type="NX_CHAR">
					<enumeration>
						<item value="x-ray"/>
						<item value="ultraviolet"/>
					</enumeration>
				</field>
			</group>
			<group name="NXbeam" type="NXbeam" doc="Properties of the beam at the sample.">
				<field name="distance" type="NX_NUMBER" doc="Distance of the point of evaluation of the beam from the sample." units="NX_LENGTH"/>
				<field name="incident_energy" type="NX_NUMBER" doc="Incident photon energy." units="NX_ENERGY"/>
				<field name="incident_energy_spread" type="NX_NUMBER" recommended="true" doc="FWHM energy linewidth of the incident photons." units="NX_ENERGY"/>
				<field name="incident_polarization" type="NX_NUMBER" optional="true" doc="Incident polarization specified as a Stokes vector." units="NX_ANY">
					<dimensions rank="1">
						<dim index="1" value="4"/>
					</dimensions>
				</field>
			</group>
			<group name="NXelectronanalyser" type="NXelectronanalyser">
				<field name="description" type="NX_CHAR" doc="Free text description of the type of detector."/>
				<field name="energy_resolution" type="NX_NUMBER" doc="Energy resolution of the analyser with the current setting." units="NX_ENERGY"/>
				<field name="momentum_resolution" type="NX_NUMBER" doc="Momentum resolution of the analyser with the current setting." units="NX_WAVENUMBER"/>
				<field name="fast_axes" type="NX_CHAR" doc="List of the axes that are acquired symultaneously by the detector">
					<dimensions rank="1">
						<dim index="1" value="nfa"/>
					</dimensions>
				</field>
				<field name="slow_axes" type="NX_CHAR" doc="List of the axes that are acquired by scanning a physical parameter, listed in order of decreasing speed.">
					<dimensions rank="1">
						<dim index="1" value="nsa"/>
					</dimensions>
				</field>
				<group name="NXcollectionlens" type="NXcollectionlens">
					<field name="scheme" type="NX_CHAR" doc="Scheme of collector lens.">
						<enumeration>
							<item value="Standard"/>
							<item value="Deflector"/>
							<item value="PEEM"/>
							<item value="Momentum Microscope"/>
						</enumeration>
					</field>
					<field name="lens_mode" type="NX_CHAR" recommended="true" doc="Labelling of a standard lens setting"/>
					<field name="projection" type="NX_CHAR" doc="The space projected in the angularly dispersive directions, i.e. real or reciprocal">
						<enumeration>
							<item value="real"/>
							<item value="reciprocal"/>
						</enumeration>
					</field>
					<group name="NXaperture" type="NXaperture" recommended="true" doc="aperture generating the momentum and/or energy filtering">
						<field name="description" type="NX_CHAR" doc="Shape of the aperture, curved or straight for horizontal slits, square or round for pinhole etc.">
							<enumeration>
								<item value="curved"/>
								<item value="straight"/>
								<item value="circle"/>
								<item value="square"/>
								<item value="hexagon"/>
								<item value="octagon"/>
								<item value="bladed"/>
							</enumeration>
						</field>
						<enumeration>
							<item value="slit"/>
							<item value="pinhole"/>
							<item value="iris"/>
						</enumeration>
						<field name="shape" type="NX_CHAR"/>
						<field name="size" type="NX_NUMBER" doc="The relevant dimension for the aperture (slit width, pinhole diameter etc.)" units="NX_LENGTH"/>
					</group>
				</group>
				<group name="NXenergydispersion" type="NXenergydispersion">
					<field name="scheme" type="NX_CHAR" doc="Energy dispersion scheme employed.">
						<enumeration>
							<item value="tof"/>
							<item value="hemispherical"/>
							<item value="cylindrical mirror"/>
							<item value="display mirror"/>
							<item value="retarding grid"/>
						</enumeration>
					</field>
					<field name="pass_energy" type="NX_NUMBER" doc="energy of the electrons on the mean path of the analyser" units="NX_ENERGY"/>
					<field name="energy_scan_mode" type="NX_CHAR" doc="Way of scanning the energy axis (fixed or sweep)">
						<enumeration>
							<item value="fixed"/>
							<item value="sweep"/>
						</enumeration>
					</field>
				</group>
				<group name="NXdetector" type="NXdetector">
					<field name="amplifier_type" type="NX_CHAR" doc="Type of electron amplifier.">
						<enumeration>
							<item value="MCP"/>
							<item value="channeltron"/>
						</enumeration>
					</field>
					<field name="detector_type" type="NX_CHAR" doc="Description of the detector type.">
						<enumeration>
							<item value="DLD"/>
							<item value="Phosphor+CCD"/>
							<item value="Phosphor+CMOS"/>
							<item value="ECMOS"/>
						</enumeration>
					</field>
					<field name="sensor_pixels" type="NX_INT" doc="Number of raw active element in each dimension. Important for swept scans.">
						<dimensions rank="1">
							<dim index="1" value="2"/>
						</dimensions>
					</field>
					<group name="NXdata" type="NXdata" recommended="true">
						<attribute name="signal"/>
						<field name="raw" type="NX_NUMBER"/>
					</group>
				</group>
			</group>
		</group>
		<group name="NXprocess" type="NXprocess">
			<field name="calculated_kx" type="NX_FLOAT" recommended="true" doc="calibrated kx momentum axis" units="NX_WAVENUMBER">
				<dimensions rank="1">
					<dim index="1" value="nx"/>
				</dimensions>
			</field>
			<field name="calculated_energy" type="NX_FLOAT" recommended="true" doc="calibrated energy axis" units="NX_ENERGY">
				<dimensions rank="1">
					<dim index="1" value="ne"/>
				</dimensions>
			</field>
			<group name="NXdistortion" type="NXdistortion">
				<field name="applied" type="NX_BOOLEAN" doc="Has a distortion correction been applied?"/>
			</group>
			<group name="NXregistration" type="NXregistration">
				<field name="applied" type="NX_BOOLEAN" doc="Has an image registration been applied?"/>
			</group>
			<group name="NXcalibration" type="NXcalibration">
				<field name="applied" type="NX_BOOLEAN" doc="Has a momentum calibration been applied?"/>
			</group>
		</group>
		<group name="NXsample" type="NXsample">
			<field name="name" type="NX_CHAR" doc="Simple and descriptive name of the sample"/>
			<field name="chemical_formula" type="NX_CHAR" doc="Chemical formula of the sample"/>
			<field name="sample_history" type="NX_CHAR" optional="true" doc="Ideally, a reference to the location or a unique identifier or other metadata file. In the case that is not available, free-text description."/>
			<field name="preparation_date" type="NX_DATE_TIME" recommended="true" doc="ISO 8601 date of preparation of the sample for the ARPES experiment (i.e. cleaving, last annealing)." units="NX_TIME"/>
			<field name="description" type="NX_CHAR" doc="Free-text surface preparation technique for the ARPES experiment, i.e. UHV cleaving, in-situ growth, sputtering/annealing etc."/>
			<field name="temperature" type="NX_NUMBER" doc="Temperature of the sample" units="NX_TEMPERATURE"/>
			<field name="situation" type="NX_CHAR"/>
			<field name="pressure" type="NX_NUMBER" doc="Residual gas pressure at the sample" units="NX_PRESSURE"/>
		</group>
		<group name="NXdata" type="NXdata">
			<attribute name="signal"/>
			<attribute name="energy_indices"/>
			<attribute name="kx_indices"/>
			<field name="data" type="NX_NUMBER"/>
		</group>
	</group>
</definition>
