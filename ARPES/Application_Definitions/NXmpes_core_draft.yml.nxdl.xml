<?xml version='1.0' encoding='UTF-8'?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/nxdl.xsd" category="application" name="NXmpes_core" extends="NXobject" type="group" doc="This is the most general application definition for multidimensional photoelectron spectroscopy.">
  <symbols doc="The symbols used in the schema to specify e.g. dimensions of arrays">
    <sym name="nfa" doc="Number of fast axes (acquired simutaneously) e.g. emission angle, kinetic energy"/>
    <sym name="nsa" doc="Number of slow axes (acquired scanning a physical quantity) e.g. lens voltage, photon energy or temperature"/>
    <sym name="nx" doc="Number of points in the first angular direction"/>
    <sym name="ne" doc="Number of points in the energy dispersion direction"/>
  </symbols>
  <field name="category" type="NX_CHAR"/>
  <group type="NXentry">
    <attribute name="entry" doc="NeXus convention is to use &quot;entry1&quot;, &quot;entry2&quot;, for analysis software to locate each entry."/>
    <field name="title" type="NX_CHAR"/>
    <field name="start_time" type="NX_DATE_TIME"/>
    <field name="definition" type="NX_CHAR" doc="Official NeXus NXDL schema to which this file conforms.">
      <attribute name="version" type="NX_CHAR"/>
      <enumeration>
        <item value="NXmpes_core"/>
      </enumeration>
    </field>
    <group type="NXinstrument">
      <group type="NXsource">
        <field name="type" type="NX_CHAR"/>
        <field name="name" type="NX_CHAR"/>
        <field name="probe" type="NX_CHAR">
          <enumeration>
            <item value="x-ray"/>
            <item value="ultraviolet"/>
          </enumeration>
        </field>
      </group>
      <group type="NXbeam" doc="Properties of the beam at the sample.">
        <field name="distance" type="NX_NUMBER" doc="Distance of the point of evaluation of the beam from the sample." units="NX_LENGTH"/>
        <field name="incident_energy" type="NX_NUMBER" doc="Incident photon energy." units="NX_ENERGY"/>
        <field name="incident_energy_spread" type="NX_NUMBER" recommended="true" doc="FWHM energy linewidth of the incident photons." units="NX_ENERGY"/>
        <field name="incident_polarization" type="NX_NUMBER" optional="true" doc="Incident polarization specified as a Stokes vector." units="NX_ANY">
          <dimensions rank="1">
            <dim index="1" value="4"/>
          </dimensions>
        </field>
      </group>
    </group>
    <group type="NXprocess">
      <field name="calculated_kx" type="NX_FLOAT" recommended="true" doc="calibrated kx momentum axis" units="NX_WAVENUMBER">
        <dimensions rank="1">
          <dim index="1" value="nx"/>
        </dimensions>
      </field>
      <field name="calculated_energy" type="NX_FLOAT" recommended="true" doc="calibrated energy axis" units="NX_ENERGY">
        <dimensions rank="1">
          <dim index="1" value="ne"/>
        </dimensions>
      </field>
    </group>
    <group type="NXsample">
      <field name="name" type="NX_CHAR" doc="Simple and descriptive name of the sample"/>
      <field name="chemical_formula" type="NX_CHAR" doc="Chemical formula of the sample"/>
      <field name="sample_history" type="NX_CHAR" optional="true" doc="Ideally, a reference to the location or a unique identifier or other metadata file. In the case that is not available, free-text description."/>
      <field name="preparation_date" type="NX_DATE_TIME" recommended="true" doc="ISO 8601 date of preparation of the sample for the ARPES experiment (i.e. cleaving, last annealing)." units="NX_TIME"/>
      <field name="description" type="NX_CHAR" doc="Free-text surface preparation technique for the ARPES experiment, i.e. UHV cleaving, in-situ growth, sputtering/annealing etc."/>
      <field name="temperature" type="NX_NUMBER" doc="Temperature of the sample" units="NX_TEMPERATURE"/>
      <field name="situation" type="NX_CHAR"/>
      <field name="pressure" type="NX_NUMBER" doc="Residual gas pressure at the sample" units="NX_PRESSURE"/>
    </group>
    <group type="NXdata">
      <attribute name="signal"/>
      <attribute name="energy_indices"/>
      <attribute name="kx_indices"/>
      <field name="data" type="NX_NUMBER"/>
    </group>
  </group>
</definition>
