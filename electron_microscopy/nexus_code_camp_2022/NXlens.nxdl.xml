<?xml version="1.0" ?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl"?>
<definition category="base" extends="NXobject" name="NXlens" type="group" xmlns="http://definition.nexusformat.org/nxdl/3.1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd">
    <doc>
         Details of an [electron lens](https://dx.doi.org/10.1007/978-3-540-38967-5).
         Eventually a lens consists of multiple components which to resolve from the
         perspective of the application definition might not be of specific relevance
         other than that the lens is a set of optical elements which affect the
         flight path of electrons in intentionally.
         
         For NXtransformations the origin of the coordinate system is placed
         in the center of the lens (its polepiece, pinhole, or another point of
         reference. The origin should be specified in the NXtransformations.
         
         Specifically, a lens-affixed coordinate system should, like all others
         be a right-handed coordinate system whose positive z-axis points in the
         direction of the electron beam.
    </doc>
    <field name="name" type="NX_CHAR">
        <doc>
             Given name/alias for the lens.
        </doc>
    </field>
    <field name="type" type="NX_CHAR">
        <doc>
             Which type describes the type of the lens closest?
        </doc>
    </field>
    <field name="design_name" type="NX_CHAR">
        <doc>
             Term which is used in the EM community to name a lens with such a design.
             Examples could be pinhole, immersion, snorkel
        </doc>
    </field>
    <field name="number_of_poles" type="NX_CHAR">
        <doc>
             Qualifier of the lens with respect to the number of poles.
        </doc>
        <enumeration>
            <item value="single"/>
            <item value="double"/>
            <item value="quadrupole"/>
            <item value="hexapole"/>
            <item value="octopole"/>
        </enumeration>
    </field>
    <field name="design_reference" type="NX_CHAR">
        <doc>
             Ideally, a DOI pointing to a work in the literature where this lens was
             described first.
        </doc>
    </field>
    <group type="NXmanufacturer"/>
    <field name="description" type="NX_CHAR">
        <doc>
             Ideally, a (globally) unique persistent identifier, link,
             or text to a resource which gives further details.
        </doc>
    </field>
    <field name="voltage" type="NX_NUMBER" units="NX_VOLTAGE">
        <doc>
             Excitation voltage of the lens. For dipoles it is a single number. For higher
             orders, it is an array.
        </doc>
    </field>
    <field name="current" type="NX_NUMBER" units="NX_CURRENT">
        <doc>
             Excitation current of the lens. For dipoles it is a single number. For higher
             orders, it is an array.
        </doc>
    </field>
    <group type="NXtransformations">
        <doc>
             Affine transformations which detail the arrangement of the lens inside the
             instrument, its optical axis, or how the lens is located and arranged in the
             beam path.
        </doc>
    </group>
</definition>
